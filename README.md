# LLaMA Voice Assistent
Это обёртка для [alpaca.cpp](https://github.com/antimatter15/alpaca.cpp) на python, так-же была добавлена возможность создавать свои команды с разными поведениями.

# Установка
Для того чтобы установить этого голосогово ассистента вам потребуется:
- Установить [python 3](https://www.python.org/)
- Клонировать репозиторий
- Выполнить команду `pip install -r requirements.txt`
- Скачать [веса модели alpaca](https://huggingface.co/Sosaka/Alpaca-native-4bit-ggml/blob/main/ggml-alpaca-7b-q4.bin)
- Запустить файл `main.py`
- Начать общение с ассистентом

# Создание своих команд
Создание команд предельно просто!

Чтобы создать команду вам потребуется:
- Создать файл `.yml` в дериктории `commands` с названием вашей команды. Например: `test.yml`
- Затем необходимо прописать шаблон в файле команды:

```
type: # тип команды (все типы перечислены ниже)

activation_phrase: # фраза для активации команды
answer: # ответ голосогово ассистента
```
- Далее нужно зайти в файл `commands.yml` и прописать там на новой строке следуйщее: `- "Название файла вашей команды"`
- Готово! Теперь вы можете использовать свои команды.

### Список типов команд:
- run - запускает команду в терменале, для этого типа команд в файле вашей команды необходимо прописать `command: "Команда"`

# Настройка
Этот голосовой ассистент имеет систему настроек котороая позволяет изменить некоторые пораметры работы ассистента.

Все настройки хранятся в файле `settings.yml`.

На данный момент имеются следуйщие настройки:
- lang - указывает язык общения с ассистентом
- tts - настройки синтеза речи
  - selero_device - указывает на чём будет происходить синтез речи, можно выбрать `cpu` или `gpu`
  - selero_speaker - указывает модель синтезатора речи
- stt - настройки распознования речи
  - vosk_model_path - указывает путь к модели [vosk](https://alphacephei.com/vosk/)
  - audio_device - указывает id микрофона с которого берётся звук
- activation - настройки активации ассистента
  - activation_phrase - активационная фраза
  - response_phrase - ответ после получения активационной фразы
  - percentage_match_for_activation - минимальный процент совпадения для активации ассистента
- experimental - экспериментальные настройки **Внимание! Эти настройки могут привести к вылету или некоректному поведению ассистента. Используйте их с осторожностью!**
  - history_memorization - эта настройка включает режим запоминания истории в режиме запоминания истории ассистент будет помнить что вы ему сказали
  - history_memorization_size - устанавливает максимальный размер истории запросов если число запросов первысит максимальный размер то старые запросы будут заменятся новыми
